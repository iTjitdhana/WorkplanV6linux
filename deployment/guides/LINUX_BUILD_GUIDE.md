# üêß ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£ Build ‡∏£‡∏∞‡∏ö‡∏ö WorkplanV6 ‡∏ö‡∏ô Linux

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 23 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2567  
**‡∏£‡∏∞‡∏ö‡∏ö:** WorkplanV6 Production Tracking System  
**‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå:** Linux Server (Ubuntu/Debian)

---

## üìã ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

- **Linux Server**: Ubuntu 20.04+ ‡∏´‡∏£‡∏∑‡∏≠ Debian 10+
- **RAM**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 4GB
- **Storage**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 20GB
- **Network**: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Database Server (192.168.0.94)

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Build ‡∏£‡∏∞‡∏ö‡∏ö

### 1. **SSH ‡πÄ‡∏Ç‡πâ‡∏≤ Linux Server**
```bash
ssh itjitdhana@192.168.0.96
# password: iT12345$
```

### 2. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ**
```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
sudo mkdir -p /opt/workplanv6
sudo chown itjitdhana:itjitdhana /opt/workplanv6
cd /opt/workplanv6
```

### 3. **Clone Repository ‡∏à‡∏≤‡∏Å GitHub**
```bash
# Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏à‡∏≤‡∏Å GitHub
git clone https://github.com/iTjitdhana/WorkplanV6linux.git .

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏£‡∏ö
ls -la
```

### 4. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Docker ‡πÅ‡∏•‡∏∞ Docker Compose**

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Script (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```bash
# ‡πÉ‡∏ä‡πâ script ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
chmod +x install-docker.sh
./install-docker.sh

# logout ‡πÅ‡∏•‡∏∞ login ‡πÉ‡∏´‡∏°‡πà
exit
# login ‡πÉ‡∏´‡∏°‡πà
ssh itjitdhana@192.168.0.96
cd /opt/workplanv6
```

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠
```bash
# ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó package list
sudo apt update

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Docker
sudo apt install -y docker.io docker-compose-plugin

# ‡πÄ‡∏û‡∏¥‡πà‡∏° user ‡πÄ‡∏Ç‡πâ‡∏≤ docker group
sudo usermod -aG docker $USER
newgrp docker

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
docker --version
docker compose version
```

### 5. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Environment**

#### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Backend
```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå backend
mkdir -p backend

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env
cat > backend/.env << 'EOF'
NODE_ENV=production
PORT=3101
DB_HOST=192.168.0.94
DB_USER=jitdhana
DB_PASSWORD=iT12345$
DB_NAME=esp_tracker
DB_PORT=3306
LOGS_DB_HOST=192.168.0.93
LOGS_DB_USER=it.jitdhana
LOGS_DB_PASSWORD=iT12345$
LOGS_DB_NAME=esp_tracker
LOGS_DB_PORT=3306
JWT_SECRET=workplan_jwt_secret_2024_production_key_v6
SESSION_SECRET=workplan_session_secret_2024_production_key_v6
CORS_ORIGIN=http://192.168.0.96:3012
EOF
```

#### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Frontend
```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå frontend
mkdir -p frontend

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env.local
cat > frontend/.env.local << 'EOF'
NEXT_PUBLIC_API_URL=http://backend:3101
BACKEND_URL=http://backend:3101
EOF
```

### 6. **Build ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö**

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Docker Compose (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
cd /opt/workplanv6

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå docker-compose.linux.yml
cat docker-compose.linux.yml

# Build ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
docker compose -f docker-compose.linux.yml up --build -d

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
docker compose -f docker-compose.linux.yml ps
```

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Script
```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
cd /opt/workplanv6

# ‡πÉ‡∏ä‡πâ script ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
chmod +x deploy-from-github.sh
./deploy-from-github.sh
```

### 7. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Containers
```bash
# ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ containers
docker compose -f docker-compose.linux.yml ps

# ‡∏î‡∏π logs
docker compose -f docker-compose.linux.yml logs -f frontend
docker compose -f docker-compose.linux.yml logs -f backend
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Backend API
curl http://192.168.0.96:3102/health

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend
curl -I http://192.168.0.96:3012
```

#### ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
- **Frontend**: http://192.168.0.96:3012
- **Backend API**: http://192.168.0.96:3102

---

## üîß ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ó‡∏£‡∏∞‡∏ö‡∏ö
```bash
cd /opt/workplanv6

# ‡∏î‡∏∂‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
git pull origin main

# Build ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
docker compose -f docker-compose.linux.yml up --build -d
```

### ‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏£‡∏∞‡∏ö‡∏ö
```bash
cd /opt/workplanv6

# ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö
docker compose -f docker-compose.linux.yml restart

# ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏â‡∏û‡∏≤‡∏∞ service
docker compose -f docker-compose.linux.yml restart frontend
docker compose -f docker-compose.linux.yml restart backend
```

### ‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö
```bash
cd /opt/workplanv6

# ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö
docker compose -f docker-compose.linux.yml down

# ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏•‡∏ö volumes
docker compose -f docker-compose.linux.yml down -v
```

### ‡∏Å‡∏≤‡∏£‡∏î‡∏π Logs
```bash
cd /opt/workplanv6

# ‡∏î‡∏π logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
docker compose -f docker-compose.linux.yml logs -f

# ‡∏î‡∏π logs ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ service
docker compose -f docker-compose.linux.yml logs -f frontend
docker compose -f docker-compose.linux.yml logs -f backend

# ‡∏î‡∏π logs ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á
docker compose -f docker-compose.linux.yml logs --tail=100
```

---

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Port ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
```bash
# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port
sudo lsof -i :3012
sudo lsof -i :3102

# Kill process
sudo kill -9 <PID>
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Docker Permission Denied
```bash
# ‡πÄ‡∏û‡∏¥‡πà‡∏° user ‡πÄ‡∏Ç‡πâ‡∏≤ docker group
sudo usermod -aG docker $USER
newgrp docker
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Database Connection Failed
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database
telnet 192.168.0.94 3306

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö firewall
sudo ufw status
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Out of Memory
```bash
# ‡∏î‡∏π memory usage
free -h
docker stats

# ‡πÄ‡∏û‡∏¥‡πà‡∏° swap
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

---

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå

```
/opt/workplanv6/
‚îú‚îÄ‚îÄ backend/                 # Backend code
‚îÇ   ‚îú‚îÄ‚îÄ .env                # Environment variables
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # Backend Docker image
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ frontend/               # Frontend code
‚îÇ   ‚îú‚îÄ‚îÄ .env.local          # Frontend environment
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # Frontend Docker image
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ docker-compose.linux.yml # Docker Compose config
‚îú‚îÄ‚îÄ deploy-from-github.sh   # Deployment script
‚îú‚îÄ‚îÄ install-docker.sh       # Docker installation script
‚îî‚îÄ‚îÄ ...
```

---

## üîí Security

### ‡πÄ‡∏õ‡∏¥‡∏î Firewall Ports
```bash
# ‡πÄ‡∏õ‡∏¥‡∏î port ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
sudo ufw allow 3012
sudo ufw allow 3102
sudo ufw allow 22  # SSH
sudo ufw enable
```

### ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SSL/HTTPS (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Nginx
sudo apt install nginx

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Certbot
sudo apt install certbot python3-certbot-nginx
```

---

## üìä Monitoring

### ‡∏î‡∏π Resource Usage
```bash
# ‡∏î‡∏π Docker stats
docker stats

# ‡∏î‡∏π system resources
htop
iostat -x 1
```

### ‡∏î‡∏π Logs ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà
```bash
# Archive logs
docker compose -f docker-compose.linux.yml logs > logs_$(date +%Y%m%d).log
```

---

## üéØ Quick Commands

```bash
# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö
cd /opt/workplanv6 && docker compose -f docker-compose.linux.yml up -d

# ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö
cd /opt/workplanv6 && docker compose -f docker-compose.linux.yml down

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
cd /opt/workplanv6 && docker compose -f docker-compose.linux.yml up --build -d

# ‡∏î‡∏π logs
cd /opt/workplanv6 && docker compose -f docker-compose.linux.yml logs -f

# ‡∏î‡∏π status
cd /opt/workplanv6 && docker compose -f docker-compose.linux.yml ps
```

---

## üìû Support

**‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®**  
**‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏à‡∏¥‡∏ï‡∏ï‡πå‡∏ò‡∏ô‡∏≤ ‡∏à‡∏≥‡∏Å‡∏±‡∏î**

---

**üéâ ‡∏£‡∏∞‡∏ö‡∏ö WorkplanV6 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô Linux Server!**

*‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 23 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2567*
